CONT EQU 10h
COMP EQU 11h
EOI EQU 20h
IMR EQU 21h
INT1 EQU 25h
PB EQU 31h
CB EQU 33h


ORG 2500h
LUCES:PUSH AX
INC CH
CMP CH,0FFh
MOV AL,CH
OUT PB,AL
JZ IFIN

MOV AL,0
OUT CONT,AL

IFIN: POP AX
MOV AL,20h
OUT EOI,AL
IRET



ORG 2000h
CLI

MOV AX, LUCES
MOV BX, 44
MOV [BX],AX

MOV AL,0
OUT PB,AL
OUT CB,AL

MOV AL,0FDh
OUT IMR,AL
MOV AL,11
OUT INT1,AL

MOV AL,1
OUT COMP,AL
MOV AL,0
OUT CONT,AL

MOV CH,0

STI

LAZO: CMP CH,0FFh
JZ FIN
JMP LAZO
FIN: INT 0
END