PA EQU 30h
PB EQU 31h
CA EQU 32h
CB EQU 33h

ORG 1000h
MSJ DB "INGRESE UN CARACTER"
    DB 13
NUM DB ?

ORG 2000h

IN AL,PA
AND AL,0FDh
OUT PA,AL

IN AL,CA
AND AL,0FDh
OR AL,1
OUT CA,AL

MOV AL,0
OUT CB,AL

MOV AH,5

LOOP: MOV BX,OFFSET MSJ
MOV AL,OFFSET NUM - OFFSET MSJ
INT 7
MOV BX, OFFSET NUM
INT 6

POLL: IN AL,PA
AND AL,1
JNZ POLL

MOV AL,[BX]
OUT PB,AL

IN AL,PA
OR AL,2
OUT PA,AL

IN AL,PA
AND AL,0FDh
OUT PA,AL

DEC AH
JNZ LOOP

INT 0 
END