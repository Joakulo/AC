ORG 1000h
CHAR DB "a"
CAD DB "arAFafvghaaco"
    DB 00H

ORG 3000H
CONTAR_CAR: PUSH AX
PUSH BX
PUSH CX
PUSH DX
MOV AX,0
MOV BX,0
MOV CX,0
MOV DX,0
MOV BX,SP
ADD BX,10
MOV AL,[BX]
ADD BX,2
MOV BX,[BX]
LOOP: MOV CL,[BX]
CMP CL,0
JZ FIN
CMP CL,AL
JNZ SIGUIENTE
INC DX
SIGUIENTE: INC BX
JMP LOOP
FIN: POP DX
POP CX
POP BX
POP AX
RET

ORG 2000h
MOV AX,OFFSET CAD
PUSH AX
MOV AX,0
MOV AL, CHAR
PUSH AX
CALL CONTAR_CAR
HLT
END